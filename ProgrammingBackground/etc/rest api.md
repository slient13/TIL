# 개요
[http](http.md)를 이용하여 기기들이 서로 통신하기 위해 제공되는 [API](API.md).  완전히 정립된 하나의 [API](API.md)라기보다는 해당 목적을 최대한 효율적으로 이루기 위한 방법들의 총체적인 집합에 가깝다.

[http](http.md)를 그대로 사용하기 때문에 웹 환경에서 그대로 확장 가능하고 [http](http.md)의 장점을 그대로 누릴 수 있다.

여러개의 설계 규칙이 있으나 모든 것을 엄격히 지키면 오히려 비효율적인 경우도 있기에 일부 규칙을 어긴 상태로 개발하기도 한다.

# 특징
- server-client 구조: 요청을 하는 쪽과 그 요청을 받아 처리하는 쪽이 명확하게 분리됨.
- stateless: 요청한 클라이언트의 정보가 별도로 저장되지 않음. 때문에 같은 클라이언트의 같은 요청이라 할지라도 전혀 별개의 요청으로 취급됨.
- cacheable: 캐싱 기능 이용 가능. (http 프로토콜을 그대로 사용하기 때문)
- layered system: **server**는 계층적으로 구성될 수 있음.
- code on demand: client의 요청에 대해 server가 응답으로 스크립트를 반환함으로써 client의 기능을 확장할 수 있음.
- uniform interface: **HTTP 프로토콜**을 따르는 모든 플랫폼에서 사용 가능하게끔 설계.

# 관련 용어
- ==컬렉션==: 복수의 자료를 가지고 있는 객체 혹은 배열을 의미한다.

# 규칙
## 주소 이름 규칙
- *컬렉션*: 해당 컬렉션의 이름을 복수형으로 작성한다.
	- *컬렉션의 특정 번째 원소*: `컬렉션-이름/숫자`로 표현한다.
	- *컬렉션의 특정 이름을 가진 원소*: `컬렉션-이름/이름`으로 표현한다.
		- *해당 원소에 종속된 자료*: `컬렉션-이름/이름/종속된-컬렉션-이름`으로 표현한다.
- 항시 소문자로만 작성한다.
- 이름이 길어질 경우 `-`을 이용해 구분한다. `_`은 사용하지 않는다.
- 파일 확장자를 표현하지 않는다.
## CRUD
자원에 대한 조작은 **URI**에 표현되어서는 아니되며, 통신 방법으로써 규정.

### create
`post`를 이용한다.

### read
`get`을 이용한다.

### update
전체 내용을 수정할 때는 `put`을, 부분적인 내용을 교체할 때는 `patch`를 사용한다.
	*참고*: 여기서 ==부분 수정==은 바꾸고 싶은 자료의 특정 속성 값에 대해서만 데이터를 전송하는 것으로, 언급되지 않은 속성은 무시된다. 반면 ==전체 수정==은 입력한 형태로 모든 속성을 지정하기 위해 전체 데이터를 보내는 것으로, 만약 여기서 누락된 속성이 있다면 해당 속성이 삭제된다.

### delete
`delete`를 이용한다. 일반적으로 ==컬렉션== 전체를 삭제하는 것은 매우 위험하므로 제한한다.

## 리소스 조작
*header*를 통해 *context-type*을 지정하여 데이터를 전달한다.

# 통신 순서
1. 송신측에서 수신측을 향해 메시지를 보낸다. 이 때 데이터를 전송하는 상황에 따라 적절한 통신 방식(`post, get, put, patch, ...`)을 택하고 ==url==을 통해 그 유형을 명시한다.
2. 수신측에서는 ==url==과 통신 방식이 무엇이었는지에 따라 다른 처리 프로세스를 실행하고, 전달받은 데이터를 처리해 그에 맞는 응답을 반환한다. 이 때 데이터 수신을 문제 없이 완료했다는 의미에서 ==응답 코드==를 `201`으로 설정해 전송한다.